{"version":3,"sources":["inspection.controller.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inspection.js","sourcesContent":["app.controller(\"inspectionController\",[\r\n    \"$scope\",\"$http\", \"$compile\",\r\n    function ($scope,$http, $compile) {\r\n\r\n    $scope.currentPage = 1;\r\n\r\n    $scope.setPage = function (pageNo) {\r\n        $scope.currentPage = pageNo;\r\n    };\r\n\r\n    $scope.pageChanged = function(uri) {\r\n        window.location.href = uri + '/' + $scope.currentPage;\r\n    };\r\n\r\n\r\n    $scope.getInspectionBlocks = function(e)\r\n    {\r\n        var id_panel = e.target.attributes.id_panel.value;\r\n        var route = e.target.attributes.route.value;\r\n\r\n        var el = $scope.showRow(e, id_panel);\r\n        if(el)\r\n        {\r\n            $http.get(route).then(function(response) {\r\n                var render = $compile(response.data)($scope);\r\n                el.find('td').html(render);\r\n            });\r\n        }\r\n    }\r\n\r\n    $scope.getInspectionDetail = function(e)\r\n    {\r\n        var id_bloque = e.target.attributes.id_bloque.value;\r\n        var route = e.target.attributes.route.value;\r\n        var el = $scope.showRow(e, id_bloque);\r\n        if(el)\r\n        {\r\n            $http.get(route).then(function(response) {\r\n                var render = $compile(response.data)($scope);\r\n                el.find('td').html(render);\r\n            });\r\n        }\r\n    }\r\n\r\n    $scope.showRow = function(e,rid)\r\n    {\r\n        var row_id = 'row_'+rid;\r\n        var tr = $(e.target).parent().parent();\r\n        var columnas = tr[0].childElementCount;\r\n\r\n        var row = angular.element.find('#'+row_id);\r\n        if(row.length>0) {\r\n            angular.element(row).parent().remove();\r\n            return false;\r\n        } else {\r\n            var content = angular.element('<tr><td colspan=\"'+columnas+'\" id=\"'+row_id+'\">' +\r\n            '<div class=\"loader_mini\">' +\r\n            '<div class=\"rect1\"></div> ' +\r\n            '<div class=\"rect2\"></div> ' +\r\n            '<div class=\"rect3\"></div> ' +\r\n            '</div>' +\r\n            '</td></tr>');\r\n            var el = content.insertAfter(tr);\r\n            return el;\r\n        }\r\n    }\r\n}]);"]}